# === CONFIGURACIÓN PRINCIPAL ===
dataset_path: "../data/ai4i2020.csv"   # <-- Cambia a la ruta real del CSV descargado
target_column: "Failure Type"        # <-- Cambia si tu columna Y tiene otro nombre
drop_columns: ["UDI","Product ID","Machine failure","TWF","HDF","PWF","OSF","RNF"]      # <-- Ajusta si existe una columna ID (o déjalo vacío: [])
categorical_columns: ["Type"]        # <-- Ajusta según las columnas categóricas reales; puede ser []

test_size: 0.2
random_state: 42

# === CONFIGURACIÓN DE CLUSTERING ===
clustering:
  score_metric: "silhouette"   # opciones: silhouette o davies_bouldin

  kmeans:
    configs:
      - {name: "km_rand_k2", n_clusters: 2, init: "random",     n_init: 20, max_iter: 300}
      - {name: "km_rand_k3", n_clusters: 3, init: "random",     n_init: 20, max_iter: 300}
      - {name: "km_rand_k5", n_clusters: 5, init: "random",     n_init: 20, max_iter: 300}
      - {name: "km_rand_k8", n_clusters: 8, init: "random",     n_init: 20, max_iter: 300}

      - {name: "km_pp_k3",   n_clusters: 3, init: "k-means++",  n_init: 20, max_iter: 300}
      - {name: "km_pp_k4",   n_clusters: 4, init: "k-means++",  n_init: 20, max_iter: 300}
      - {name: "km_pp_k5",   n_clusters: 5, init: "k-means++",  n_init: 20, max_iter: 300}
      - {name: "km_pp_k6",   n_clusters: 6, init: "k-means++",  n_init: 20, max_iter: 300}


  meanshift:
    configs:
      # Si bandwidth es null, se estimará con estimate_bandwidth usando quantile
      - {name: "ms_q_0.20", quantile: 0.20, n_samples: 10000, bin_seeding: true, bandwidth: null}
      - {name: "ms_q_0.30", quantile: 0.30, n_samples: 10000, bin_seeding: true, bandwidth: null}
      - {name: "ms_q_0.10", quantile: 0.10, n_samples: 10000, bin_seeding: true, bandwidth: null}
      - {name: "ms_bw_1.0", quantile: null, n_samples: 10000, bin_seeding: true, bandwidth: 1.0}

# === CONFIGURACIÓN SUPERVISADA (entrenamiento con eliminación) ===
supervised:
  n_epochs: 50
  eval_every_epochs: 5
  batch_size: 512
  metric: "f1_macro"

  # clave:
  use_sample_weights: true
  balanced_minibatches: false     # <— apágalo
  class_weight_gamma: 0.6         # <— NUEVO: templa los pesos (0=no pesa, 1=full balanced)

  logistic:
    configs:
      - {name: "log_optimal_a1e-4",          alpha: 1.0e-4, learning_rate: "optimal"}
      - {name: "log_optimal_a5e-5",          alpha: 5.0e-5, learning_rate: "optimal"}
      - {name: "log_adapt_eta005_a5e-4",     alpha: 5.0e-4, learning_rate: "adaptive",   eta0: 0.05}
      - {name: "log_adapt_eta001_a1e-4",     alpha: 1.0e-4, learning_rate: "adaptive",   eta0: 0.01}

  svm:
    configs:
      - {name: "svm_modhub_opt_a1e-4",       alpha: 1.0e-4, learning_rate: "optimal",  loss: "modified_huber"}
      - {name: "svm_hinge_opt_a1e-4",        alpha: 1.0e-4, learning_rate: "optimal",  loss: "hinge"}
      - {name: "svm_modhub_adp_eta005_a5e-4",alpha: 5.0e-4, learning_rate: "adaptive", eta0: 0.05, loss: "modified_huber"}
      - {name: "svm_hinge_adp_eta001_a1e-4", alpha: 1.0e-4, learning_rate: "adaptive", eta0: 0.01, loss: "hinge"}


